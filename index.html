<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>DOOMWORM: VITALY</title>
  <link href="https://fonts.googleapis.com/css2?family=Bangers&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      padding: 0;
      background: linear-gradient(to bottom, #0b1a3a, #1a3a5f);
      font-family: 'Bangers', cursive;
      color: white;
      min-height: 100vh;
      overflow: hidden;
      position: relative;
    }

    /* –ó–≤—ë–∑–¥—ã */
    .stars {
      position: absolute;
      top: 0; left: 0; width: 100%; height: 100%;
      background-image: 
        radial-gradient(2px 2px at 10% 20%, white, transparent),
        radial-gradient(2px 2px at 25% 10%, white, transparent),
        radial-gradient(2px 2px at 40% 30%, white, transparent),
        radial-gradient(2px 2px at 60% 25%, white, transparent),
        radial-gradient(2px 2px at 75% 15%, white, transparent),
        radial-gradient(2px 2px at 90% 35%, white, transparent);
      z-index: 1;
    }

    /* UI */
    .ui-panel {
      position: absolute;
      top: 20px;
      font-size: 1.4em;
      text-shadow: 0 0 8px rgba(0,0,0,0.8);
      z-index: 10;
    }
    #health { left: 20px; color: gold; }
    #buckets { right: 20px; color: #4fc3f7; }

    /* –ù–∞–¥–ø–∏—Å—å */
    #title {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 2.8em;
      color: white;
      text-shadow: 
        0 0 10px #ff0000,
        0 0 20px #ff0000,
        0 0 30px #ff0000;
      letter-spacing: 3px;
      z-index: 5;
      pointer-events: none;
    }

    /* –ì–µ—Ä–æ–π */
    #hero-container {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 8;
      cursor: pointer;
    }

    /* –°—é–∂–µ—Ç */
    #story {
      position: absolute;
      bottom: 20px;
      left: 0;
      width: 100%;
      text-align: center;
      font-size: 1.1em;
      color: #ffeb3b;
      text-shadow: 0 0 5px black;
      z-index: 6;
    }
  </style>
</head>
<body>
  <!-- –§–æ–Ω -->
  <div class="stars"></div>

  <!-- UI -->
  <div id="health" class="ui-panel">‚ù§Ô∏è <span id="hp">100%</span></div>
  <div id="buckets" class="ui-panel">ü™£ <span id="water">20</span></div>
  <div id="title">vitaly molodec</div>

  <!-- –ì–µ—Ä–æ–π -->
  <div id="hero-container" onclick="pourWater()">
    <img id="hero" src="hero-animation.gif" style="width:180px; height:auto; display:none;">
    <div id="static-hero" style="width:180px; height:300px; background:#f0f0f0; border:2px solid black; border-radius:10px; display:flex;align-items:center;justify-content:center;font-size:2em;">?</div>
  </div>

  <!-- –°—é–∂–µ—Ç -->
  <div id="story">
    OmniCore —Å–ª–µ–¥–∏—Ç... –ö–∞–∂–¥–æ–µ –≤–µ–¥—Ä–æ ‚Äî –∫–∞–ø–ª—è —Å–≤–æ–±–æ–¥—ã.
  </div>

  <!-- –ó–≤—É–∫ -->
  <audio id="scream-sound" preload="auto">
    <source src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQQAAAAA" type="audio/wav">
  </audio>

  <script>
    let health = 100;
    let water = 20;

    function updateUI() {
      document.getElementById('hp').textContent = `${Math.max(0, Math.floor(health))}%`;
      document.getElementById('water').textContent = water;
    }

    function pourWater() {
      if (water <= 0) return;

      const heroImg = document.getElementById('hero');
      const staticHero = document.getElementById('static-hero');

      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
      staticHero.style.display = 'none';
      heroImg.style.display = 'block';

      // –ü—Ä–æ–∏–≥—Ä—ã–≤–∞–µ–º –∑–≤—É–∫
      const sound = document.getElementById('scream-sound');
      if (sound) {
        sound.currentTime = 0;
        sound.play().catch(() => {});
      }

      // –ß–µ—Ä–µ–∑ 1.5 —Å–µ–∫ ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—Ç–∞—Ç–∏—á–Ω—É—é –≤–µ—Ä—Å–∏—é
      setTimeout(() => {
        heroImg.style.display = 'none';
        staticHero.style.display = 'flex';
      }, 1500);

      // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ
      water--;
      health = Math.min(100, health + 5);
      updateUI();

      // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
      localStorage.setItem('doomworm-game', JSON.stringify({ health, water }));
    }

    // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
    function loadGame() {
      const saved = localStorage.getItem('doomworm-game');
      if (saved) {
        const data = JSON.parse(saved);
        health = data.health || 100;
        water = data.water || 20;
        updateUI();
      }
    }

    loadGame();
  </script>
</body>
</html>
